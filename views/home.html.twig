{% extends "layout.html.twig" %}

{% block title %}Dashboard Financeiro{% endblock %}

{% block content %}
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3 text-secondary"><i class="fa-solid fa-chart-line me-2"></i>Visão Geral</h1>
        <a href="/lancamentos/cadastrar" class="btn btn-primary">
            <i class="fa-solid fa-plus me-1"></i> Novo Lançamento
        </a>
    </div>

    <!-- Linha de Cards (Grid System) -->
    <div class="row g-4">
        
        <!-- Card: Saldo Atual -->
        <div class="col-md-4">
            <div class="card h-100 border-start border-5 {{ saldo_atual >= 0 ? 'border-success' : 'border-danger' }} shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-muted text-uppercase fs-6 mb-3">Saldo em Caixa</h5>
                    <h2 class="display-6 fw-bold {{ saldo_atual >= 0 ? 'text-success' : 'text-danger' }}">
                        R$ {{ saldo_atual | number_format(2, ',', '.') }}
                    </h2>
                    <div class="mt-3 text-muted small">
                        <div><i class="fa-solid fa-arrow-up text-success"></i> Entradas: {{ entradas|number_format(2,',','.') }}</div>
                        <div><i class="fa-solid fa-arrow-down text-danger"></i> Saídas: {{ saidas|number_format(2,',','.') }}</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card: A Receber -->
        <div class="col-md-4">
            <div class="card h-100 border-start border-5 border-primary shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-muted text-uppercase fs-6 mb-3">A Receber (Pendente)</h5>
                    <h2 class="display-6 fw-bold text-primary">
                        R$ {{ a_receber | number_format(2, ',', '.') }}
                    </h2>
                    <p class="card-text text-muted small mt-2">Valores previstos para entrar.</p>
                </div>
            </div>
        </div>

        <!-- Card: A Pagar -->
        <div class="col-md-4">
            <div class="card h-100 border-start border-5 border-warning shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-muted text-uppercase fs-6 mb-3">A Pagar (Pendente)</h5>
                    <h2 class="display-6 fw-bold text-warning">
                        R$ {{ a_pagar | number_format(2, ',', '.') }}
                    </h2>
                    <p class="card-text text-muted small mt-2">Contas agendadas.</p>
                </div>
            </div>
        </div>

        <!-- Card: Previsão Futura -->
        <div class="col-md-12">
            <div class="card shadow-sm">
                <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="mb-0">Previsão de Saldo (Após quitação)</h5>
                        <small class="text-muted">Saldo Atual + A Receber - A Pagar</small>
                    </div>
                    <div class="fs-3 fw-bold {{ previsao >= 0 ? 'text-success' : 'text-danger' }}">
                        R$ {{ previsao | number_format(2, ',', '.') }}
                    </div>
                </div>
            </div>
        </div>

    </div>
{% endblock %}